<!DOCTYPE html>
<html lang=en>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Towards spirit stream</title>
    <link rel="stylesheet" href="main.css">
    <link rel="shortcut icon" href="favicon.ico">
</head>

<body>
    <main>
        <nav><a href='index.html'>Entrance</a><a href="#top">Top</a></nav>
        <article>
            <div id="top"></div>
            <p class="post-date">Created <time datetime="2024-01-23T19:19:31+08:00">2024 01 23</time></p>

            <p>
                Since being a child I have been wondering about information distribution, feeling inefficient.<br>
                This page reflects on how to build it.
            </p>
            
            <h1>Towards spirit stream</h1>
            
            <nav class="toc"></nav>
            
            <h2>Direction</h2>
            <ul>
                <li>How to build an OS?</li>
            </ul>
            <h3>Distant next version</h3>
            <ul>
                <li>payment</li>
                <li>code highlighting</li>
                <li>render images into ones that can load progressively</li>
                <li>Git integration and web interface -> history / changelog</li>
            </ul>

            <h2>More refined</h2>

            <h3>Spirit Stream</h3>
            <p> 
                When I follow curiosity, leaning into my wonder about computer and internet, I sense dissolution: The edges of my body fade and I float through the associations between all possible spaces. Into the space, through trees, stories, videogames, temples, beauty, destruction. I see my questions answered, not definitively, but as completely as the collective mind can. I sense connection, trusting and deep. I sense the conflicts in the world as internal, not as foggy, distant pain. There are no external barriers to my being and I stream into others to see exactly what they mean. And in my action, the structure of the world, not merely my individual life, is reflected.<br>
                Returning to my body, I can't help but wonder what the fuck this is: Me, stopping with my fingertips, not being able to walk through walls, facing the endless world in mist asking hello with no answer.
            </p>
            <figure>
                <img src="creative-destruction-detail-3.jpg" alt="Floating head, slightly tilted. Partly shaded, mask-like. Reminiscent of a skull. Dark background and dark lines across the white head, partly messy, decorative and minimally defining facial features. Closer eye is white, further eye is black. Red-magenta lines overlay the skull, partly straight and splitting the image, partly squiggly."/>
                <figcaption>Spirit of curiosity</figcaption>
            </figure>
            <blockquote>
                i can see the hive mind on the horizon.<br>
                there are hammers, sculptors, hammer blows and sculptures.<br>
                grouped and isolated<br>
                places to stay.<br>
                <br>
                like gazing into a painting, being guided through the impression<br>
                coming along to find a question asked at myself, seeing it unfold and building a response
            </blockquote>
            <p>
                Computers, able to execute practically any function;<br>
                AI, approximating any function;<br>
                Internet, connecting nearly globally, instantly;<br>
            </p>
            <p>
                The spirits, seeking continuity with the environment and particularly the spirit of curiosity are calling towards internalizing these technologies.
            </p>
            <p>
                The spirit stream aims to become the passage into the machine.<br>
                It will have to be able to contain me and respond in its own spirit.
            </p>
            <figure>
                <figcaption>Me, to be reflected in the machine:</figcaption>
                <blockquote>
                    <p>
                        Sense, explore, parse circling patterns from<br>
                        chaotic and far-reaching,<br>
                        through filtered and coherent knowledge,<br>
                        to linearized, actionable and accessible stories.
                    </p>
                    <p>
                        Express in sound, body,<br>
                        writing, graphs, images, products,<br>
                        and any tools to build them,<br>
                        in process,<br>
                        from memory.
                    </p>
                    <p>
                        Share in truth,<br>
                        to test, be surprised, dance, reproduce, join the cutting edge, offer, cohere, support, punish,<br>
                        into common languages per context,<br>
                        into scopes of recipients,<br>
                        under optional conditions.
                    </p>
                    <p>
                        Where I am,<br>
                        When I am.
                    </p>
                </blockquote>
            </figure>
            <figure>
                <figcaption>The target:</figcaption>
                <blockquote>
                    <p>
                        Executors of machine code within instruction sets,<br>
                        of functions, programs, function approximators compiled from many languages,<br>
                        from and to memory.
                    </p>
                    <p>
                        Expressing in any electronic actuator,<br>
                        speaker, display, motor.<br>
                        Receiving from any electronic sensor,<br>
                        keyboard, mouse, camera, microphone
                    </p>
                    <p>
                        Exchange anything at up to ~storage speeds,<br>
                        through ports, through fundamentally unreliable, insecure connections,<br>
                        to any available address,<br>
                        made reliable, secure through protocol and application server
                    </p>
                </blockquote>
            </figure>
            
            
            <h3>How to merge?</h3>
            <p>
                Is there a throughput problem and must I build the neural interface? I suspect not, as sometimes simple words or images speak so loudly and clearly, throwing open the doors to the world with their precision and closeness. If the interface becomes seamless, reflective of the user, and the spirits of computer and internet reveal themselves, there is no difference between the machine and the body. When I can speak with clarity and my computer extension answers with clarity, we merge.
            </p>
            <p>
                To discover and be discovered, search engines, LLM pretraining or dynamic research through an LLM seem sufficient. There is limited upside to being connected to <i>everyone</i>, as on X, and most lasting connections still seem to happen through reference by already known people, not through the algorithm.<br>
                Algorithms should able to interact in the same ways as me -> UI connects to more easily accessible API.
            </p>
            <p>
                <ul>
                    <li>Font engine renders vector outlines into images on demand for highly flexible placement by the editor.</li>
                    <li>Editor places symbols into any language to manifest patterns. It can have arbitrarily many tools to make manipulation of symbols and symbol groups easier including for special cases like calendars, messaging, todo-lists. The editor can display relationships in at most 3 dimensions because that's what I can handle. Higher dimensions are handled by links. When information is linearized, a hierarchy of boxes like HTML seems appropriate.</li>
                    <li>Continuous history (down to whole seconds resolution) provides a seamless safety net and past data to learn from. It encourages revisiting instead of starting anew, improving quality, and allows fearless, even reckless editing.</li>
                    <li>Authentication / encryption allows privacy to be the default and makes the spiritstream appropriate for more complete information.</li>
                    <li>Server (HTTP, HTTPS,...) manages permission and makes content public</li>
                    <li>...server-client model + API for machines, AI integration, downloading, streaming, media,...</li>
                    <li>...simplfy, implemented in C, compile to embedded...</li>
                    <li>...Introspection for access logs and performance review...</li>
                    <li>...robots...</li>
                </ul>
            </p>
            <p>
                The first implementation is written in python, with bindings where necessary. Because it makes it easier to refine the abstractions before setting them into C. Performance should be sufficient. <a href="https://github.com/lorinbaum/spiritstream">Repo</a>
            </p>
            
            <h3>Currently implemented structure</h3>
            <p>
                Writing in pure html, css, javascript: VS Code,
                prerendering to static sites locally (table of contents): node.js<br>
                keeping history in a git repository,<br>
                Sent to remote server: Hetzner VPS: OpenSSH, nginx (HTTP, HTTPS)<br>
                Discoverable through Cloudlfare DNS.
            </p>
            
            <h2>Less refined</h2>

            <h3>Log</h3>

            <p>
                2025 04 29<br>
                Immutable append-only log of insertions, deletions (- | -[n]-), location changes *["filepath"]?,[location]*, time deltas (+ | +[n]+), meta (# key:value #can be user u:user to differentiate mine and autogen stuff)<br>

                <!-- Hash chained, rotating log: For better handling? -->
                <!-- merge conflicts happen only in multidevice / multiuser situations -->
                <!-- Merge logic for divergent logs: If the same area is modified, prompt user to merge. display file with both paths highlighted. that file is the new file. If different parts are edited, execture both branches sequentially keeping the pointers to the same point in the text though.
                If live streaming with multiple people, just include the commands in the order they appear in and synchronize state without notifying. Show cursor like google docs does it. -->
                <!-- Performance considerations:
                - Prioritize "hot" areas to faster verify what the user may need.
                - Self-optimizing cache (LRU?) of intermediate file states.
                - lower qualtiy check: store file metadata and directory structure. -->
            </p>
            <p>
                2025 05 06<br>
                The above scales terribly. To reconstruct the current state it has to load everything into memory. means loading several GBs on each startup.<br>
                Splitting up into an append only buffer and a table that puts various sections into an order (like a piece table) would circumvent this.<br>
                To include integrity checking, hash additions often, then hash larger sections to reduce number of hashes.
            </p>



            <pre>
file structure:
home/
log/
    file.log
    temp.log

The log can store write, erase, seek (time/file+cursor) and meta (non-essential)

Upon loading, the log checks integrity and adjusts to any unrecorded changes:
- get latest view according to log file
- check temp file:
    - if its empty, ignore. If it has content, could either be that the write process to the main log was interrupted. For this check for overlap between log ending and temp to complete. If temp is corrupt, ignore all of temp, its unsaved actions.
    - main file could be partly written. in that case rest is in temp. find start of overlap and complete the write to main log. continue view
    - if no overlap is found:
        - if main log corrupted:
            insert a seek (time) event before the corrupted part is found. it skipsremove end until not corrupt, jump to that point in the log using seek and restore to current state using current files
        - else: treat temp file as unsaved edits
    - else: treat temp file as unsaved edits
- get difference to home files
- log events to catch up with home files.
<!-- While integrity checking, any new events go to temp -->

class Log:
    def __init__(self, filepath):
        """Initialize log with the given file path."""

    def write(self, text, cursor=None, author=None):
        """Insert text at cursor."""

    def erase(self, count, cursor=None, author=None):
        """Remove count characters at cursor."""

    def commit(self):
        """Save changes to the log."""
    
    def view(self, date):
        """Return the state as of the given date, without altering current state."""
    
    # internal methods
    def _seek(self, position):
        """Record a seek event if cursor position changes."""

    def _meta(self, **kwargs):
        """Record a meta event storing keys and values like user:alice or comment:"hamedi is coming for you" """

    def _elapsed(self, seconds):
        """Record elapsed time since last event."""
            </pre>


            <h3>other</h3>

            <h4>OS</h4>
            <details>
                <summary><a href="https://wiki.osdev.org/BareBones">OSDev</a> Barebones and preliminary notes</summary>
                <p>Seeking a seamless, harmonic human-machine interface leads me down to operating systems, where the machine is met and negotiated with. Seeing no need to go deeper until this layer is great. Meet the machine. <a href="https://wiki.osdev.org/Expanded_Main_Page">OSDev.org</a></p>
                <p>The OS is first developed for only one target machine. Relevant components:
                    <ul>
                        <li>Asus Z270E mainboard</li>
                        <li>Intel 7700k processor</li>
                        <!-- <li>Nvidia GTX 1080ti</li> -->
                        <li>SATA HDDs and SSD, M.2 SSD</li>
                        <li>3860x2160 monitor via display port</li>
                        <li>USB mouse and keyboard</li>
                        <li>Headphones via line out</li>
                    </ul>
                </p>
                <ul>
                    <li><a href="#bare-bones">Bare Bones</a> reinterprets the <a href="https://wiki.osdev.org/Bare_Bones">Bare Bones tutorial</a> on OSDev.org for my usecase, shortening some and expanding on other concepts that seem fundamentally important.</li>
                </ul>
                <!--
                GRUB magic software but needs glue code and set up stack for kernel (C)
                explain stack
                GRUB loads me into 32 bit protected mode, sets up a VGA buffer.
                The kernel uses the buffer to write text. summarized
    
                linker manages the situation where multiple files are needed for a program to run.
    
                creating an iso image with xorriso.
                loading it with qemu
    
                paging is coping with limited 32 bit address space. long mode solves this
                instruction set is HUGE. 
    
                getting graphics working may be hard. nvidia driver is proprietary, can only try and port the linux version of their driver. intel integrated graphics driver is open source.
                otherwise use VGA / VESA but has limited resolution/capability/efficiency. Always runs on CPU, but can use integrated graphics. intel integrated graphics has a completely open driver.
                
                my own bootloader: https://wiki.osdev.org/Rolling_Your_Own_Bootloader
                bootloader UEFI app: https://wiki.osdev.org/UEFI_App_Bare_Bones
                making a bootable disk: https://wiki.osdev.org/Bootable_Disk
                -->
                <h4><a href="https://wiki.osdev.org/Bare_Bones">Bare Bones</a></h4>
    
                <h5>How to launch the OS? ESP with bootloader+kernel</h5>
                <p>
                    When the computer starts (power button shorts two mainboard pins), the mainboard firmware, following the widespread <abbr title="Unified Extensible Firmware Interface">UEFI</abbr> standard initializes connected hardware and, for each storage device, looks for partitions (separately managed storage parts) that are <abbr title="Extensible Firmware Interface">EFI</abbr> System Partitions (ESP).<br> UEFI supports some MBR and GPT partition table schemes <sup><a href="https://en.wikipedia.org/wiki/UEFI#EFI_system_partition">[1]</a></sup>.
                    It contains bootloaders: .efi files made to hand control from the firmware to the OS kernel (central program in the OS, responsible for ressource allocation and sys calls etc.). The reason bootloaders exist i In some configurable order, UEFI tries launching bootloaders until one works. The bootloader
                    <ul>
                        <li>determines which partition to boot from</li>
                        <li>finds the kernel in the partition and loads it into memory</li>
                        <li>sets up the environment: stack allocation, protected mode</li>
                        <li>hands control to the kernel, passing any necessary parameters to it</li>
                    </ul>
                </p>
    
                <h5>Bare Bones bootloader (GRUB), gluecode and kernel</h5>
                <p><abbr title="GRand Unified Bootloader">GRUB</abbr> is a magic bootloader that does everything for me and follows the Multiboot Standard when finding and handing control to the kernel. This means the kernel 1. needs a multiboot header and 2. is left to set up the stack itself. This first kernel part is written in assembly, because compiled C already requires a stack to run.</p>
                <pre><code>/* boot.s: minimal assembly to launch the kernel,
    compiled using <abbr title="GNU Assembler">GAS</abbr> to boot.o
    <a href="https://wiki.osdev.org/Bare_Bones#Bootstrap_Assembly">Bare Bones Boostrap Assembly</a> includes detailed comments */
    .set ALIGN,    1&lt;&lt;0      
    .set MEMINFO,  1&lt;&lt;1      
    .set FLAGS,    ALIGN | MEMINFO 
    .set MAGIC,    0x1BADB002      
    .set CHECKSUM, -(MAGIC + FLAGS)
    
    .section .multiboot
    .align 4
    .long MAGIC
    .long FLAGS
    .long CHECKSUM
    
    .section .bss
    .align 16
    stack_bottom:
    .skip 16384 # 16 KiB
    stack_top:
    
    .section .text
    .global _start
    .type _start, @function
    _start:
        mov $stack_top, %esp
        call kernel_main
        cli
    1:	hlt
        jmp 1b
    .size _start, . - _start</code></pre>
                <p>The kernel in Bare Bones, written in C, only uses the VGA text mode buffer presumtively set up by GRUB to display text on the screen.<br>
                It does this without the C standard library, which is unavailable because it would require 1. system calls and dynamic linker support already implemented in the kernel, and 2. the linker and library available at runtime. This is called being in a Freestanding Environment as opposed to a Hosted Environment. Some header files, though, are part of the compiler, not the C standard library, so some data types, contants and macros are still available.</p>
                <p>To compile the kernel, a <abbr title="GNU Compiler Collection">GCC</abbr> cross compiler is used.</p>
                <pre><code>/* Kernel code without abstractions.
    There is a VGA text mode framebuffer at address 0xB8000.
    It starts by writing spaces with black background color into the whole buffer:
    foreground color (4 bits), background color (4 bits), character (8 bits).
    If white is 15 and black is 0*/
    
    // INSERT HERE AFTER TESTING
    </code></pre>
                <h4>Intel integrated graphics driver</h4>
                <p>
                    <a href="https://www.intel.com/content/www/us/en/docs/graphics-for-linux/developer-reference/1-0/kaby-lake.html">Intel Docs</a>
                </p>
            </details>

            <h4>Text editor</h4>
            <details>
                <summary>Initial thoughts towards C+OpenGL text editor</summary>
                <p>The world is open when I can understand and create my own infrastructure. I will own my environment and can test how far I can merge with the machine. Start with C+OpenGL text editor compiled to web. C+OpenGL because they are low level (offer insight) and extremely widely supported.</p>
                <ul>
                    <li>Write fira code ttf into an infinite column</li>
                    <li>display line numbers</li>
                    <li>scrolling</li>
                    <li>cursor control with keys and mouse</li>
                </ul>
    
                <h4>Setup</h4>
                <p>OpenGL is a language to talk to the GPU to efficiently produce graphical output. It's implemented by the graphics card vendors. <a href="https://learnopengl.com">How to use OpenGL</a></p>
                <p>
                    To open a window and handle input, talking to the OS is necessary. Possible to do manually, but using <a href="https://open.gl/context#GLFW">GLFW</a> here.<br>
                    <a href="https://www.glfw.org/docs/latest/compile_guide.html">Compile GLFW with CMake</a>. In my case, compiled for wayland only - could possibly be simpler to compile to <abbr title="web assembly">WASM</abbr>. Then copy include folder and libglfw3.a from build/src/ to project-folder-include and -lib respectively.
                </p>
                <p>
                    Same article goes into GLEW. Download, run <code>make</code> in the directory, copy contents from lib and include to project folder.
                </p>
                <p>OpenGL already installed on Ubuntu Linux, but dev tools help: <code>sudo apt-get install libglu1-mesa-dev</code>.</p>
                <!-- Working without <code>libgl1-mesa-dev</code> and <code>libglew-dev</code> for now.</p> -->
                
                <p>main.c to get OpenGL working and test it</p>
                <pre><code>#define GLEW_STATIC
#include <GL/glew.h>
#include <GLFW/glfw3.h>
#include <stdio.h>

int main() {
    glfwInit();

    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);
    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);
    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);
    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);

    glfwWindowHint(GLFW_RESIZABLE, GL_FALSE);

    GLFWwindow* window = glfwCreateWindow(800, 600, "OpenGL", NULL, NULL);
    glfwMakeContextCurrent(window);

    glewExperimental = GL_TRUE;
    glewInit();

    // Testing only: output should print 1
    GLuint vertexBuffer;
    glGenBuffers(1, &vertexBuffer);
    printf("%u\n", vertexBuffer);
    
    while(!glfwWindowShouldClose(window))
    {
        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    glfwTerminate();
    return 0;
}</code></pre>
                <p>
                    Convention says to put main.c into src/ of project folder and the compiled output into build/.    
                    Compiling with: <code>clang -I ./include/ src/main.c -L ./lib/ -lGLEW -lglfw3 -lGL -lGLU -lm -o build/main</code>
                </p>
                <p>Compiling freetype2 to render true type fonts. Compiled from source with <code>./configure --enable-static --disable-shared --with-png=yes CFLAGS="-static"</code> and <code>make</code>. Then adding the <code>-lpng -lz -lbrotlidec -lfreetype</code> compiler flags.</p>

                <h4>OpenGL</h4>

                <p>It forces a framework onto graphics. Rendering a scene, it goes through a given graphics pipeline, first determining the shape, rasterizing it and calculating color. Programs for each step are called shaders. Minimum two shaders must be user specified: 1. Vertex shader: can manipulate vertices dependent on frame in an efficient way without requiring to alter the original geometry. 2. Fragment shader</p>

                <h5><a href="https://learnopengl.com/Getting-started/Hello-Triangle">Vertex Input</a></h5>
                <p>vertices = array of numbers -1.0 to 1.0 (outside those bounds is discarded) later to be interpreted as series of x,y,z coordinates of points, usually points of a triangle.</p>
                <p>Vertex Buffer Objects (VBOs) help with sending the data to the GPU. Bufferse are generated using a function (which assings an ID toO). One Buffer can be bound at any time to any buffer type so all functions manipulating that buffer type will apply to the bound buffer. eg: <code>glBufferData(buffer type, size, vertices, memory optimization)</code> applies to the buffer current bound to [buffer type]</p>

                <h5>Vertex shader</h5>
                <p>minmal shader, not modifying coordinates specifies version used, an input 3D vector (x,y,z), main function and assigns the input to <code>gl_Position</code> (opengl's 4D output vector) with the fourth component set to 1.0 because who knows what it is.</p>

                <h5>Compiling a shader</h5>
                <p>Shader is loaded as single string, assigned to shader object (GL_VERTEX_SHADER in this case) compiled through a given opengl function (gLCompileShader)</p>
                <p>Shaders are compile at runtime. Original article at this point explains how to log shader compilation errors.</p>

                <h5>Fragment shader</h5>
                <p>Fragment = pixel (discrete part of a scene). Calculates color. Same otherwise.</p>

                <h5>Shader program</h5>
                <p>Will make the still separate vertex- and fragment shaders work, linking their in- and outputs accordingly.</p>
                <p>After program creation, the separate shaders are not needed anymore. <code>glUseProgram([shaderProgram])</code> will make any following shader/render call use it.</p>

                <h5>Linking vertex attriutes</h5>
                <p>how to interpret the vertex input? for which location (specified in vertex shader) is the data? how many values? what type? what stride? start reading the buffer with an offset?</p>

                <h4>Editor design</h4>
                <ol>
                    <li>initial usage: ss [path]</li>
                    <li>Load file into RAM</li>
                    <li>Get character set</li>
                    <li>render glyph atlas</li>
                    <li>split text into words (line breaks)</li>
                    <li>write words that fit into the line (monospace). If word longer than line, split without hyphen</li>
                </ol>
                <p><a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/RM01/Chap1.html">Apple TrueType docs</a><br>
                <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/overview">microsoft OpenType docs</a></p>
            </details>

            <h4>SFTP</h4>
            <details>
                <summary>Notes upon partial reading of SSH specification</summary>
                <h4>SSH</h4>
    
                <p>Secure network sevices through insecure network. On top of secured transport layer, like after TCP handshake.</p>
                <p><a href="https://datatracker.ietf.org/doc/html/rfc4250">RFC 4250</a> contains assignments of codes for different messages / symbolic names.</p>
                
                <h5>SSH-ARCH (<a href="https://datatracker.ietf.org/doc/html/rfc4251">RFC 4251</a>)</h4>
                <ul>
                    <li>SSH-TRANS: Transport Layer Protocol: server authentication, confidentiality, integrity, optional compression. derives unique session id</li>
                    <li>SSH-USERAUTH: Client authentication</li>
                    <li>SSH-CONNECT: Tunnel multiplexed into channels</li>
                </ul>
                <p>Host keys identify the host. Known apriori or verified through a certification authority (CA). Allow storing identity after first connect = vulnerable to Man-in-the-middle-attacks. Warn if the host key changes in the future.</p>
                <p>Specification gives some algorithms, but different ones can be used on per-domain basis. I can specify in configuration:
                    <ul>
                        <li>choice of algorithm for encryption, integrity, compression and public key</li>
                        <li>method for key exchange for host authentication.</li>
                        <li>required authentication methods per user, may require multiple</li>
                        <li>permitted actions by user. Server cannot run commands on client and no connections to authentication agent</li>
                    </ul>
                </p>
                <p>Specify encoding for protocol data, mostly UTF-8. For terminal session data, encoding is inferred from terminal emulation type. internal names in US_ASCII. client and server names in ISO 10646 UTF-8. Recommend bit-wise comparison.</p>
                <p>Text messages (errors, debug, config data...). send codes instead, other messages should be configurable. </p>
                <p>Data types:
                    <ul>
                        <li>raw bytes</li>
                        <li>bool (1B). o (false) or 1 (true). >1 = true but not allowed.</li>
                        <li>uint32, uint64(4B, 8B, decreasing signficance)</li>
                        <li>string (uint32 stores length, then 0 or more bytes with the actual content: no null-termination).</li>
                        <li>mpint (numbers, but stored likes strings (with length being the first byte). two's complement. if first bit is 1, then precede with a 0 byte)</li>
                        <li>name-list (string, comma separated names (no comma in names!), US_ASCI!)</li>
                    </ul>
                </p>
                <p>Algorithm and Method Naming (<a href="https://datatracker.ietf.org/doc/html/rfc4251#section-6">Refer to this because very specific error checking</a>)
                </p>
                <p>RNG, <a href="https://datatracker.ietf.org/doc/html/rfc4086">RFC 4086</a>Provides some guidance.</p>
                <p><a href="https://datatracker.ietf.org/doc/html/rfc4251#section-9.2">Control Character Filtering</a> - Replace control characteres when displaying.</p>
            </details>

            <h4>Internet</h4>
            <details>
                <summary>Notes on internet layers</summary>
                <p>https://explained-from-first-principles.com/internet/#out-of-order-delivery</p>
                <p>
                    messages understood through the protocol<br>
                    handle unexpected response, ask for retransmission, time out if silent, maintain order of messages, account for latency.
                </p>
                <p>5 layers</p>
                <ol>
                    <li>
                        <p>link:<br>
                            addressing using MAC address within a network through ethernet, wifi, bluetooth protocols. maximum transmission unit (MTU) = how many bits in one package max.</p>
                    </li>
                    <li>
                        <p>network layer<br>
                            uses ip address to connect between different networks through the Internet Protocol (IP). routers send error messages and other information about itself using ICMP (internet control message p)</p>
                    </li>
                    <li>
                        <p>transport layer<br>
                            os sending/receiving stuff to/from to processes running in the OS. uses port numbers to differentiate. a process that exists to respond is called server, one initiating the connection is called client.<br>
                            can use transmission control p (TCP). pretends there is a direct connection (not packets). enumerates, buffers and confirms received messages to put into right order, retransmit or request retransmission if no confirmation was received. uses checksum for ensuring reliability. sender slows down if it gets no feedback (how is this part of the protocol?). tcp handshake before actual payload transfer sets a random starting point for the enumeration, making it hard for randos to impersonate senders (attackers must now guess correctly to enter a ongoing chat)<br>
                            user datagram p (UDP) fast, unreliable connectionless transport. only source, destination ports, length and checksum in header. streaming!</p>
                    </li>
                    <li>
                        <p>Security layer</p>
                    </li>
                </ol>
            </details>

            <p><a href="https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797">ANSI codes</a></p>
            <p>llms contain linguistic maps. they can draw the landscape for me if they know my maps too.<br>
            a language model that has not learned to answer questions tells stories.</p>

            <!-- <table>
                <thead>
                    <tr>
                        <th>centralized</th>
                        <th>decentralized</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>mostly HTTPS, SSL certificate</td>
                        <td>custom protocol, slow</td>
                    </tr>
                    <tr>
                        <td>no static address or hard to get -&gt; DDNS</td>
                        <td>content addressing</td>
                    </tr>
                    <tr>
                        <td>domain</td>
                        <td>web3 gateway or its undiscoverable<br>= domain, DDNS</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>easily connectable to wallets</td>
                    </tr>
                    <tr>
                        <td>everyone knows who I am</td>
                        <td>can be anonymous</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>servicing capability automatically expands<br>if people host my stuff</td>
                    </tr>
                    <tr>
                        <td>Ridiculous. Rarely useful, it seems. If the internet sucks, those responsible must be confronted directly, not joined by an inefficient alternative.</td>
                        <td></td>
                    </tr>
                </tbody>
            </table> -->
            <p><a href="https://twitter.com/karpathy/status/1751350002281300461">Karpathys ideal blogging platform</a><br>
                <a href="https://stephango.com/file-over-app">file over app</a>
            </p>
            <p>
                "lazy payment" - unrealized costs become realized when someone pays transaction costs? optionally anonymously.<br>
                payment + PAYG<br>
                wikipedia<br>
                tor<br>
                interplanetary file system</p>
                disqus<br>
                discord<br>
                plausible analytics<br>
                atom/rss<br>
                C preprocessor
            </p>

            <p>"Digital gardens"<br>
                <a href="https://github.com/MaggieAppleton/digital-gardeners">https://github.com/MaggieAppleton/digital-gardeners</a><br>
                <a href="https://simonewebdesign.it/">https://simonewebdesign.it/</a>
            </p>
            <p>
                <a href="https://casual-effects.com/markdeep/">markdeep</a><br>
                <a href="https://powerdns.org/libh2o/">libh2o</a>
                <a href="https://powerdns.org/">PowerDNS.org with nice articles</a>
            </p>

            <p>non-hierarchical file system.<br>
                bytes, pointers -&gt; pointers are bytes too and can store tags for their bytes.<br>
                files, tags. Tags are files too. So, structure defined by links.<br>
                How to navigate it?<br>
                design an entry point<br>
                Graph view is useless.<br>
                search files by how they are connected.<br>
                tags are unnecessary, they are literally a weak link<br>
                navigate through forward and backward links.<br>
                optionally select an overlap of multiple links. like ctrl-click to add to the group which must overlap.<br>
                the backlink that I come from should be highlighted<br>
                Information becomes hierarchically organized as it matures. No problem. Hierachy is a subset of this system.<br>
                converting from hierarchy is easy. converting to hierarchy requires disambiguation: which link(s) should become the files folder(s)? Mutltiple folders means the file is copied.<br>
                drives are tags.<br>
                branches are tags.<br>
                git gives UI for merging files and tags, like from pull requests or other branches.<br>
                how to limit number of forward links while maintaining their precision? display them as searchable list. searchable also for overlap.</p>
            <p>P2P streaming with relay nodes</p>
            <p>messages are files automatically received and that I actively send out.<br>
                can be (are) grouped under tags depending on sender.</p>
                
            <table>
                <tr>
                    <td>Taken hierarchy path</td>
                    <td>forward links, some external</td>
                </tr>
                <tr>
                    <td>backlinks</td>
                    <td>broken links</td>
                </tr>
            </table>


            <p>
                VS Code for UI. Destroys WYSIWYG. CSS is the visual vocabulary for html. html is pure semantics and its independence from style give nice flexibility. WYSIWYG not needed? Complicated, extendable editor like VS Code seems like good design. Who knows what and how people want to edit. Best editor is a tool to build your own editor?
            </p>
            
            <p>
                The things I know appear so simple, so efficiently encoded. Like how to make rice. But trying to explain it in its entirety, I require painfully many words even approximate it.
            </p>

            <h4>History</h4>
            <p>List of git commits, with commit message, changed files, link to the repository state of that commit, view diff (technical) or site (html). Files and repo are downloadable. Should be close to a casual timeline while keeping access to more technical information.</p>
            <p>Server api:<br>
            <code>api/commit=[commit];blob=[blob];diff=true</code>: render diff to previous commit into html in a code block<br>
            <code>api/commit=[commit];blob=[blob];site=true</code>: get blob site. all links (html, css, js) are resolved to their blob sites<br>
            <code>api/blob=[blob]</code>: get blob</p>

            <h4>2025 01 30</h4>
            <p>Full web access maybe not practical because browser fundamentally distrusts servers and so blocks interaction with local files. The spirit stream would be trusted locally, communicating with a remote, untrusted server.<br>
            End-to-end encryption would require storing the key clientside while making it accessible to the page's javascript. Synchronizing files seamlessly is impossible.<br></p>
            <p>-> Build a trusted client where I can produce, commit, encrypt/decrypt and sync files. Available for desktop and mobile.<br>
            C+OpenGL because it's low level, so easy to dive deep and understand everything, clean, widely supported and portable.</p>
            <p>
                Client:
                <ul>
                    <li>Code editor</li>
                    <li>Preview: browser engine</li>
                    <li>version history: git integration</li>
                    <li>preprocessor</li>
                    <li>sync</li>
                </ul>
            </p>
            <p>Make a trusted, local server instead that can:
                <ul>
                    <li>send/receive(save) files</li>
                    <li>encrypt + decrypt files</li>
                    <li>upload to the remote server</li>
                </ul>
            </p>

            <h4>2025 01 31</h4>
            <p>Since I construct meaning from the individual, I view all higher structures of power (groups, communes, cities, states, religions) as a service to the individual. This is how they are justified and how they ought to be kept in check. When merging with the machine, build the passage from the individual upwards to avoid top-down dominance.</p>
            <p> Build a machine, make it work. Put the world into it, authenticate to make extension optional and not excessive. Authenticate through the network into more machines.</p>

            <h4>2024 01 31</h4>
            <p>I want to know how to use the computer but don't want to learn it. Move windows where I want them. Camera, live video. publish button on files. showing me their status. stupid file system, what if it would be tags? Sync with phone. extremely easy to use desktop and mobile apps. talk to the computer. have it accompany me. make suggestions about where to go.have someone I can talk to, that understands me. that can help me. that i trust. I am in control. Contain my memories, easily shared. my notes. everywhere. can the site be a portal for otheres to join in too? where i am live more often. doing what i like to do. others doing their stuff. people gaining reputation. workshop, bar. where people can visit. screens are large and immersive and they are places that I can take people to.<br>
            I don't want to be alone. are there not places to go, to build? where the places invite me in?<br>
            Lots of writing only happens in interaction with others. someone I am writing to, that I know, where I will elaborate. I will not elaborate just for myself.<br>
            Is the spirit stream even possible if it does not involve physical proximity? online rooms. part of the appeal of working in the garden where I lived before was I would be able to show it to other people. not like showing off but spend time there, use it as a space to share. Online doesn't work that way. and who would join me anyway? its like impossible. maybe the best thing to do is literally join the townsquare and talk my way into the world. Get to know people through reference, not through them visiting my site randomly and deciding to join a space there (never gonna happen). Is there no such thing? Is there only being highly valuable and being of value to people. Experience says otherwise. WTF is this. where is the world? </p>

            <h4>2025 05 06</h4>
            <p>Rereading the rant above."Where is the world?". It seems, increasingly, that the world is within. I realized recently that I am not only not draw towards goals like money, power, fame, comfort, glory, but that if they were suddenly handed to me, I would decline them, think them irrelevant. I see more purpose in reconstructing the world myself, from within, following spirits. My inner world is tiny, stupid. Few subjects stand out where I very slowly built myself something useful. The remedy for this tiny world is to follow it deeper, where I can't predict the outcome anymore. Not to leave the world for empty materialism.<br>
            Some of the more pathetic motivations for the spiritstream are revealing themselves and are disappointed. Maybe at the end of the spiritstream I realize that my world doesn't have much to give without extending to other humans and that love is the answer - a conviction yet eluding me. Continuing on this journey is perhaps the fastest path to finding out.</p>

            <h4>2025 02 03</h4>
            <h5>1. OS</h5>
            <p>At the bottom of the spirit stream is the operating system. my attempts to write my own text editor and SSH client lead nowhere. <i>Executors of machine code within instructions sets</i> is the true foundation for the spirit stream. No need to go deeper.</p>
            <p>Why OS? To meet the computer and let higher structures fall into their place. <a href="https://wiki.osdev.org/Main_Page">How to build OS?</a></p>

            <h5>2.</h5>
            <p>Maybe merging physical and virtual world means replicating my room in the computer and the computer in the room. Most of the room is static -> low network load; focus on moving and important parts instead: Faces. Computer should compress data by "scanning" environment and face and storing/transmit itting transformations to save space.</p>

        </article>
        <script src="scroll.js"></script>
    </main>
</body>
</html>
